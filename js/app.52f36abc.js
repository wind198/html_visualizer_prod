(function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],f=0,d=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"358e":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid py-3 px-5"},[n("h1",{staticClass:"text-center"},[t._v("HTML structure visuallizer")]),n("div",{staticClass:"container-html-input mb-3",attrs:{id:"container"}},[n("h2",[t._v("HTML input")]),n("p",[t._v("Paste your HTML code here:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"html-input mb-3 d-block w-100 rounded-3 border-1 px-4 py-3",attrs:{name:"html-input",id:"input",cols:"",rows:"10"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),n("button",{staticClass:"btn btn-primary",on:{click:t.calculate}},[t._v("Calculate")])]),n("html-diagram",{attrs:{rankedHierachy:t.rankedHierachy}})],1)},i=[],o=n("ade3"),s=n("2909"),c=n("d4ec"),l=(n("fb6a"),n("ac1f"),n("841c"),n("466d"),n("a1f0"),n("d3b7"),n("159b"),n("a434"),n("99af"),n("4de4"),n("d81d"),n("1276"),n("5319"),n("2ef0")),u=(n("358e"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-diagram"},[n("h3",[t._v("Diagram")]),n("div",{staticClass:"diagram",attrs:{id:"diagram"}},[n("div",{staticClass:"node-list"},t._l(t.rankedHierachy,(function(e,a){return n("div",{key:a,staticClass:"node-row d-flex justify-content-around"},t._l(e,(function(e){return n("div",{key:e.id,staticClass:"node p-3 bg-warning ro text-dark border rounded-3 mb-5",attrs:{id:e.id}},[n("p",{staticClass:"node-title fw-bold text-center border-bottom border-dark"},[t._v(" "+t._s(e.title)+" ")]),n("ul",t._l(e.attributes,(function(e,a){return n("li",{key:a},[n("span",{staticClass:"icon-holder d-inline-block justify-content-center"},[n("i",{class:t.calculateIcon(a)})]),n("span",[t._v(t._s(a)+": "+t._s(e))])])})),0)])})),0)})),0)])])}),f=[],d=(n("caad"),n("2532"),n("b64b"),function(t,e){var n=h(t),a=h(e),r={xPos:n.xPos,yPos:n.yPos+.49*n.domHeight},i={xPos:a.xPos,yPos:a.yPos-.49*a.domHeight},o=document.createElement("div");o.classList.add("connecting-line");var s=p(r,i),c=s.xPos,l=s.yPos,u=s.length,f=s.angle;return o.style.top="".concat(l,"px"),o.style.left="".concat(c,"px"),o.style.height="0px",o.style.width="".concat(u,"px"),o.style.transform="rotate(".concat(f,"deg)"),o}),h=function(t){var e=t.offsetLeft,n=t.offsetTop,a=t.offsetWidth,r=t.offsetHeight,i=e+a/2,o=n+r/2;return{xPos:i,yPos:o,domWidth:a,domHeight:r}},p=function(t,e){var n=Math.sqrt(Math.pow(t.xPos-e.xPos,2)+Math.pow(t.yPos-e.yPos,2)),a=g(Math.atan((e.yPos-t.yPos)/(e.xPos-t.xPos)));return a<0&&(a=180+a),{xPos:t.xPos,yPos:t.yPos,length:n,angle:a}},g=function(t){var e=Math.PI;return t*(180/e)},v={props:{rankedHierachy:{type:Object}},watch:{rankedHierachy:{handler:function(){this.drawConnectingLine()}}},methods:{calculateIcon:function(t){if("@"==t[0]||t.includes("v-on"))return"fas fa-bolt";switch(t){case"class":case":class":return"fas fa-user-friends";case"style":case":style":return"fas fa-palette";case"ref":return"fas fa-tag";case"v-if":case"v-else":return"fas fa-toggle-on";case"v-show":return"fas fa-eye";case"v-model":return"fas fa-exchange-alt";default:return"fab fa-product-hunt"}},drawConnectingLine:Object(l["debounce"])((function(){var t=this,e=Object(s["a"])(document.getElementsByClassName("connecting-line"));e.length>0&&e.forEach((function(t){t.remove()})),console.log("drawing");var n=Object.keys(this.rankedHierachy).map((function(t){return parseInt(t)}));n.forEach((function(e,n){0!==n&&t.rankedHierachy[e].forEach((function(n){var a=n.id.split("-");t.rankedHierachy[e-1].forEach((function(t){var e=t.id.split("-");if(Object(l["isEqual"])(a.slice(0,-1),e)){var r=document.getElementById(t.id),i=document.getElementById(n.id),o=d(r,i);document.getElementById("diagram").appendChild(o)}}))}))}))}),100)},created:function(){var t=this;window.addEventListener("resize",(function(){t.$nextTick((function(){t.drawConnectingLine()}))}))}},b=v,y=(n("ce58"),n("2877")),m=Object(y["a"])(b,u,f,!1,null,"fd95abd8",null),w=m.exports,x=function t(e,n,a,r){Object(c["a"])(this,t),this.tagName=e,this.type=n,this.attributes=a||{},this.childNodes=r||[],this.status=k},P="open_tag",O="close_tag",j="self_closing_tag",k="active",_="deactive",C=/<\s*([\w-]+)(\s+([\w-@:#]+(="[^"]+")?))*\s*>/,H=/<\/\s*([\w-]+)\s*>/,T=/<\s*([\w-]+)(\s+([\w-@:#]+(="[^"]+")?))*\s*\/>/,E={components:{HtmlDiagram:w},data:function(){return{input:"",tagArr:[],rankedHierachy:{}}},methods:{calculate:function(){this.extractTagFromInputString(),this.replaceSelftClosingTag(),this.mapIdAndRowLevel(),this.generateRankedHierachy(),console.log(this.tagArr)},extractTagFromInputString:function(){var t=this,e=this.input,n=!1;t:while(!n){for(var a=0;a<e.length;a++){var r=e[a];if(0!==a&&">"===r){var i=void 0,c=e.slice(0,a+1),l=c.search(C);if(l>-1){var u=function(){var n=Object(s["a"])(c.match(C)),r=n[1]||"",l={},u=n[2];if(u){var f=Object(s["a"])(u.matchAll(/([\w-@:#]+)=("[^"]+")?/g));f.forEach((function(t){l=Object.assign(l,Object(o["a"])({},t[1],t[2]))}))}return i=new x(r,P,l,[]),t.tagArr.push(i),e=e.slice(a+1),"continue|loop1"}();if("continue|loop1"===u)continue t}if(l=c.search(T),l>-1){var f=function(){var n=Object(s["a"])(c.match(T)),r=n[1]||"",l={},u=n[2];if(u){var f=Object(s["a"])(u.matchAll(/([\w-@:#]+)=("[^"]+")?/g));f.forEach((function(t){l=Object.assign(l,Object(o["a"])({},t[1],t[2]))}))}return i=new x(r,j,l,[]),t.tagArr.push(i),e=e.slice(a+1),"continue|loop1"}();if("continue|loop1"===f)continue t}if(l=c.search(H),l>-1){var d=Object(s["a"])(c.match(H)),h=d[1]||"";i=new x(h,O),this.tagArr.push(i),e=e.slice(a+1);continue t}}}n=!0}},replaceSelftClosingTag:function(){for(var t=0;t<this.tagArr.length;t++){var e,n=this.tagArr[t];n.type===j&&((e=this.tagArr).splice.apply(e,[t,1].concat(Object(s["a"])(this.convertSelfClosingTagToOpenTag(n)))),t++)}},convertSelfClosingTagToOpenTag:function(t){var e=t.tagName,n=(t.type,t.attributes),a=t.childNodes,r=t.status,i=t.id,o=new x(e,P,n,a,r,i),s=new x(e,O);return[o,s]},mapIdAndRowLevel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tagArr;t[0].id="0",t[0].rowLevel=0;for(var e=1;e<t.length;e++){var n=t[e];if(n.type===P)for(var a=t.slice(0,e),r=1;r<a.length+1;r++){var i=a[a.length-r];if(i.type===P&&i.status===k){var o=(e-(a.length-r)-1)/2;n.id="".concat(i.id,"-").concat(o),n.rowLevel=i.rowLevel+1;break}}if(n.type===O)for(var s=t.slice(0,e),c=void 0,l=1;l<s.length+1;l++){var u=t[s.length-l];if(u.type===P&&u.status===k){c=u,c.status=_,n.status=_;break}}}},generateRankedHierachy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tagArr,e=t.filter((function(t){return t.type!==O}));e=e.map((function(t){var e=Object(l["cloneDeep"])(t),n=e.tagName;return e.attributes.class&&(e.attributes.class=e.attributes.class.replace(/["']/g,"").split(/\s+/),e.attributes.class.length>0&&(n+=".".concat(e.attributes.class[0]))),Object.assign(e,{title:n})}));var n={};e.forEach((function(t){var e=t.rowLevel;n[e]?n[e].push(t):n[e]=[t]})),this.rankedHierachy=n}}},L=E,A=Object(y["a"])(L,r,i,!1,null,"be8e9aba",null),M=A.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(M)}}).$mount("#app")},ce58:function(t,e,n){"use strict";n("f030")},f030:function(t,e,n){}});
//# sourceMappingURL=app.52f36abc.js.map